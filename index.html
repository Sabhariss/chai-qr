<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All Hail Chai ‚òï</title>
  <meta name="description" content="Scan ‚Üí land here ‚Üí join Team 3 and sip that chai." />
  <style>
    :root{
      /* Strong green background */
      --bg:#88e79e;
      --text:#101410;
      --muted:#2c3a33;
      --card:#ffffff;
      --card-border:#e8f5ea;
      --accent:#0e8f6f;
      --shadow:0 8px 24px rgba(0,0,0,.10);
      --radius:18px;
      --gap:22px;

      /* üîß set this to your logo file name (e.g., logo.png) */
      --logo-url: url('logo.png');
      --logo-opacity: .07;  /* make higher for stronger watermark */
      --logo-size: 520px;   /* change to fit */
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    }

    /* subtle centered logo watermark */
    body::before{
      content:"";
      position:fixed; inset:0; pointer-events:none;
      background: var(--logo-url) center/var(--logo-size) no-repeat;
      opacity: var(--logo-opacity);
      mix-blend-mode: multiply;
    }

    .container{max-width:1100px; margin:0 auto; padding:36px 22px 80px}
    h1{margin:0 0 6px; font-weight:900; letter-spacing:.2px; font-size:clamp(30px, 5vw, 46px)}
    .subtle{color:#163c2d; opacity:.85; font-size:14px}

    .grid{
      display:grid; gap:var(--gap);
      grid-template-columns: 1fr;
      margin-top:22px;
    }
    @media (min-width:860px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .card,.flip{
      background:var(--card); border:1px solid var(--card-border);
      border-radius:var(--radius); box-shadow:var(--shadow);
      padding:20px; transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover,.flip:hover{ transform:translateY(-2px); box-shadow:0 14px 28px rgba(0,0,0,.12); }

    .as-btn{ cursor:pointer; text-align:left; }
    .row{ display:flex; gap:14px; align-items:flex-start; }
    .icon{
      flex:0 0 50px; height:50px; display:grid; place-items:center;
      border-radius:14px; background:#fff5d7; font-size:22px; border:1px solid #f6e7b6;
    }
    h2{ margin:0; font-size:22px; font-weight:900; letter-spacing:.2px }
    .desc{ margin:6px 0 0; color:#3d524a; font-size:15px }

    /* Flip card */
    .flip{ perspective:1000px; padding:0; }
    .flip-inner{
      position:relative; min-height:126px;
      transform-style:preserve-3d; transition:transform .6s ease;
      padding:20px;
    }
    .flip-face{ position:absolute; inset:0; padding:20px; backface-visibility:hidden; }
    .flip-back{ transform:rotateY(180deg); }
    .flipped .flip-inner{ transform:rotateY(180deg); }

    /* Toast */
    #toast{
      position:fixed; left:50%; bottom:22px; transform:translateX(-50%);
      background:#101410; color:#fff; padding:10px 14px; border-radius:12px;
      box-shadow:var(--shadow); opacity:0; transition:opacity .25s ease;
      font-size:14px; pointer-events:none;
    }
  </style>
</head>
<body>
  <div class="container">
    <header style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;">
      <div>
        <h1>All Hail Chai</h1>
        <p class="subtle">Welcome! This page was opened from a QR code.</p>
      </div>
      <!-- Team pill removed per request -->
    </header>

    <main>
      <div class="grid">
        <!-- Tile 1: Chai@Starbucks punchline -->
        <button class="card as-btn" id="tile1">
          <div class="row">
            <div class="icon">üçµ</div>
            <div>
              <h2>All hail chai @ Starbucks</h2>
              <p class="desc"><strong>Team ‚ÄúChai@Starbucks‚Äù ‚Äî sip, win, repeat.</strong> Order your favorite chai and raise the cup high. ‚òïÔ∏è</p>
            </div>
          </div>
        </button>

        <!-- Tile 2: Boycott + auto-indicted -->
        <button class="card as-btn" id="tileJoin">
          <div class="row">
            <div class="icon">üì£</div>
            <div>
              <h2>Boycott your game to join Team 3</h2>
              <p class="desc">You will be <em>auto-indicted</em>.</p>
            </div>
          </div>
        </button>

        <!-- Tile 3: Win a week of chai (front) / Lose a game (back) -->
        <div class="flip as-btn" id="tileFlip">
          <div class="flip-inner">
            <!-- FRONT -->
            <div class="flip-face">
              <div class="row">
                <div class="icon">üéÅ</div>
                <div>
                  <h2>Win a week of chai</h2>
                  <p class="desc">Tap to get the secret on earning the reward.</p>
                </div>
              </div>
            </div>
            <!-- BACK -->
            <div class="flip-face flip-back">
              <div class="row">
                <div class="icon">üé≤</div>
                <div>
                  <h2>Lose a game with Team 3</h2>
                  <p class="desc">Give us a heads-up beforehand. Tap to flip back.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tile 4: Map -->
        <button class="card as-btn" id="tileMap">
          <div class="row">
            <div class="icon">üìç</div>
            <div>
              <h2>Find the chai zone</h2>
              <p class="desc">Head to our cafeteria‚Äôs Chai Zone and get energized ‚òï‚ö°</p>
            </div>
          </div>
        </button>
      </div>

      <p class="subtle" style="margin-top:18px;">Pro tip: Share this link with your squad or print its QR. Chai &gt; everything.</p>
    </main>
  </div>

  <div id="toast">Action completed</div>

  <script>
    const qs = new URLSearchParams(location.search);

    const toast = (msg) => {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.style.opacity = '1';
      setTimeout(() => t.style.opacity = '0', 1600);
    };

    // Team 3 membership via localStorage (badge removed, behavior kept)
    const TEAM_KEY = 'chai-team';
    const isTeam3 = () => localStorage.getItem(TEAM_KEY) === '3';
    const setTeam3 = () => localStorage.setItem(TEAM_KEY, '3');

    // Tile 2 behavior: auto-join Team 3
    const tileJoin = document.getElementById('tileJoin');
    tileJoin.addEventListener('click', () => {
      setTeam3();
      toast('You are now in Team 3!');
    });

    // Tile 3: flip
    const tileFlip = document.getElementById('tileFlip');
    tileFlip.addEventListener('click', () => {
      tileFlip.classList.toggle('flipped');
    });

    // Tile 4: Map link via ?map=
    const tileMap = document.getElementById('tileMap');
    tileMap.addEventListener('click', () => {
      const mapUrl = qs.get('map') || '#';
      if (mapUrl && mapUrl !== '#') {
        window.open(mapUrl, '_blank');
      } else {
        toast('Ask the front desk for ‚ÄúChai Zone‚Äù directions ‚ú®');
      }
    });
  </script>
</body>
</html>

